---
page_title: "unifi_traffic_route Resource - unifi"
subcategory: ""
description: |-
  Manages a UniFi traffic route for policy-based routing.
---

# unifi_traffic_route (Resource)

Manages a UniFi traffic route for policy-based routing.

## Example Usage

```terraform
# Basic traffic route
resource "unifi_traffic_route" "basic" {
  name        = "VPN-Route"
  description = "Route traffic through VPN"
  network_id  = unifi_network.vpn.id
}

# Domain-based routing
resource "unifi_traffic_route" "domain_route" {
  name            = "Work-Domains"
  matching_target = "DOMAIN"
  network_id      = unifi_network.work_vpn.id

  domains {
    domain      = "*.work.example.com"
    description = "Work domain"
  }

  domains {
    domain = "corporate.example.com"
  }

  kill_switch = true
}

# IP-based routing
resource "unifi_traffic_route" "ip_route" {
  name            = "Datacenter-Route"
  matching_target = "IP"
  network_id      = unifi_network.datacenter.id
  ip_addresses    = ["10.0.0.0/8", "172.16.0.0/12"]
}

# Region-based routing (geo-routing)
resource "unifi_traffic_route" "region_route" {
  name            = "US-Traffic"
  matching_target = "REGION"
  network_id      = unifi_network.us_vpn.id
  regions         = ["US", "CA"]
}

# Route with fallback enabled
resource "unifi_traffic_route" "fallback_route" {
  name       = "Backup-Route"
  network_id = unifi_network.backup.id
  fallback   = true
}

# Disabled route
resource "unifi_traffic_route" "disabled" {
  name    = "Maintenance-Route"
  enabled = false
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The name of the traffic route.

### Optional

- `description` (String) A description for the traffic route.
- `domains` (Attributes List) List of domains for domain-based routing. (see [below for nested schema](#nestedatt--domains))
- `enabled` (Boolean) Whether the traffic route is enabled. Defaults to true.
- `fallback` (Boolean) Whether to use fallback routing. Defaults to false.
- `ip_addresses` (Set of String) Set of IP addresses or CIDR blocks for IP-based routing.
- `ip_ranges` (Set of String) Set of IP ranges for IP-based routing.
- `kill_switch` (Boolean) Whether to enable kill switch (block traffic if VPN fails). Defaults to false.
- `matching_target` (String) The matching target type. Valid values: INTERNET, IP, DOMAIN, REGION, APP.
- `network_id` (String) The network ID to route traffic through.
- `regions` (Set of String) Set of geographic regions for region-based routing.
- `target_devices` (Attributes List) List of target devices for the route. (see [below for nested schema](#nestedatt--target_devices))
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))

### Read-Only

- `id` (String) The unique identifier of the traffic route.

<a id="nestedatt--domains"></a>
### Nested Schema for `domains`

Required:

- `domain` (String) The domain name or pattern.

Optional:

- `description` (String) A description for the domain entry.
- `ports` (Set of Number) Set of ports associated with the domain.


<a id="nestedatt--target_devices"></a>
### Nested Schema for `target_devices`

Optional:

- `client_mac` (String) The MAC address of the client device.
- `network_id` (String) The network ID for network-based targeting.
- `type` (String) The target type (e.g., ALL_CLIENTS, CLIENT, NETWORK).


<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Read operations occur during any refresh or planning operation when refresh is enabled.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).

## Import

Traffic routes can be imported using their ID:

```shell
terraform import unifi_traffic_route.example 60a1b2c3d4e5f67890123456
```
