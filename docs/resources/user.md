---
page_title: "unifi_user Resource - unifi"
subcategory: ""
description: |-
  Manages a UniFi user (client device record).
---

# unifi_user (Resource)

Manages a UniFi user (client device record). Users represent network clients with DHCP reservations, fixed IPs, device names, local DNS records, blocking, and user group assignments.

~> **Note:** Changing the `mac` attribute forces recreation of the resource, as MAC addresses uniquely identify physical devices.

## Example Usage

```terraform
# Create a DHCP reservation for an ESXi host
resource "unifi_user" "esxi_host" {
  mac          = "aa:bb:cc:dd:ee:01"
  name         = "ESXi Host 1"
  use_fixed_ip = true
  fixed_ip     = "192.168.1.100"
  network_id   = unifi_network.servers.id
}

# Create a user with local DNS record
resource "unifi_user" "nas" {
  mac                      = "aa:bb:cc:dd:ee:02"
  name                     = "Synology NAS"
  use_fixed_ip             = true
  fixed_ip                 = "192.168.1.50"
  network_id               = unifi_network.servers.id
  local_dns_record         = "nas"
  local_dns_record_enabled = true
}

# Block a device from network access
resource "unifi_user" "blocked_device" {
  mac     = "aa:bb:cc:dd:ee:03"
  name    = "Untrusted Device"
  blocked = true
}

# Assign a device to a bandwidth-limited user group
resource "unifi_user" "iot_device" {
  mac          = "aa:bb:cc:dd:ee:04"
  name         = "Smart Thermostat"
  usergroup_id = unifi_user_group.iot_throttled.id
  note         = "Living room thermostat"
  noted        = true
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `mac` (String) The MAC address of the client device (format: aa:bb:cc:dd:ee:ff). Changing this forces recreation of the resource.

### Optional

- `blocked` (Boolean) Whether the device is blocked from network access.
- `fixed_ip` (String) The fixed IP address for DHCP reservation. Requires use_fixed_ip to be true.
- `local_dns_record` (String) A local DNS hostname record for this device.
- `local_dns_record_enabled` (Boolean) Whether the local DNS record is enabled.
- `name` (String) A friendly name for the client device.
- `network_id` (String) The network ID for the fixed IP DHCP reservation.
- `note` (String) Notes or description for the client device.
- `noted` (Boolean) Whether the device has a note. Automatically set to true when note is provided.
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))
- `use_fixed_ip` (Boolean) Enable DHCP reservation for this device. Must be true for fixed_ip to take effect.
- `usergroup_id` (String) The user group ID for bandwidth limiting (QoS profile assignment).

### Read-Only

- `first_seen` (Number) Unix timestamp when the device was first seen (read-only).
- `hostname` (String) The hostname of the device from DHCP (read-only).
- `id` (String) The unique identifier of the user.
- `ip` (String) The current IP address of the device (read-only, assigned by the controller).
- `last_seen` (Number) Unix timestamp when the device was last seen (read-only).
- `oui` (String) The manufacturer OUI code derived from the MAC address (read-only).
- `site_id` (String) The site ID where the user is created.

<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Read operations occur during any refresh or planning operation when refresh is enabled.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).

## Import

Users can be imported using their ID:

```shell
terraform import unifi_user.example 60a1b2c3d4e5f67890123456
```
