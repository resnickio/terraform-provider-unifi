---
page_title: "unifi_port_profile Resource - unifi"
subcategory: ""
description: |-
  Manages a UniFi switch port profile (PortConf) for configuring switch port settings including VLANs, PoE, 802.1X, and storm control.
---

# unifi_port_profile (Resource)

Manages a UniFi switch port profile (PortConf) for configuring switch port settings including VLANs, PoE, 802.1X, and storm control.

## Example Usage

```terraform
# Basic port profile with just a name
resource "unifi_port_profile" "basic" {
  name = "Basic"
}

# Port profile with native VLAN
resource "unifi_port_profile" "workstation" {
  name              = "Workstation"
  native_network_id = unifi_network.corporate.id
}

# VLAN trunk allowing all VLANs
resource "unifi_port_profile" "trunk_all" {
  name              = "Trunk-All"
  native_network_id = unifi_network.management.id
  tagged_vlan_mgmt  = "all"
}

# Custom trunk - allows all VLANs EXCEPT specified ones
# Use excluded_network_ids to specify which networks to block
resource "unifi_port_profile" "hypervisor" {
  name              = "Hypervisor"
  native_network_id = unifi_network.management.id
  tagged_vlan_mgmt  = "custom"
  excluded_network_ids = [
    unifi_network.guest.id,
    unifi_network.iot.id,
  ]
}

# Access port - blocks all tagged VLANs
resource "unifi_port_profile" "access_only" {
  name              = "Access-Only"
  native_network_id = unifi_network.corporate.id
  tagged_vlan_mgmt  = "block"
}

# PoE camera with port isolation
resource "unifi_port_profile" "security_camera" {
  name              = "Security-Camera"
  native_network_id = unifi_network.security.id
  poe_mode          = "auto"
  isolation         = true
}

# Profile with storm control
resource "unifi_port_profile" "storm_protected" {
  name                    = "Storm-Protected"
  native_network_id       = unifi_network.servers.id
  stormctrl_bcast_enabled = true
  stormctrl_bcast_rate    = 1000
  stormctrl_mcast_enabled = true
  stormctrl_mcast_rate    = 1000
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The name of the port profile.

### Optional

- `autoneg` (Boolean) Enable auto-negotiation for link speed and duplex.
- `dot1x_ctrl` (String) 802.1X control mode. Valid values: 'force_authorized', 'force_unauthorized', 'auto', 'mac_based', 'multi_host'.
- `dot1x_idle_timeout` (Number) 802.1X idle timeout in seconds.
- `egress_rate_limit_kbps` (Number) Egress rate limit in Kbps.
- `egress_rate_limit_kbps_enabled` (Boolean) Enable egress rate limiting.
- `excluded_network_ids` (Set of String) Set of network IDs to exclude from tagged VLANs. Only applicable when tagged_vlan_mgmt is 'custom'. Networks not in this list will be allowed as tagged VLANs.
- `full_duplex` (Boolean) Enable full duplex mode. Only applicable when autoneg is disabled.
- `isolation` (Boolean) Enable port isolation to prevent traffic between ports using this profile.
- `lldpmed_enabled` (Boolean) Enable LLDP-MED (Link Layer Discovery Protocol - Media Endpoint Discovery).
- `lldpmed_notify_enabled` (Boolean) Enable LLDP-MED topology change notifications.
- `native_network_id` (String) Network ID for the native/untagged VLAN.
- `op_mode` (String) Port operation mode. Valid values: 'switch', 'mirror', 'aggregate'.
- `poe_mode` (String) PoE mode. Valid values: 'auto', 'pasv24', 'passthrough', 'off'.
- `port_keepalive_enabled` (Boolean) Enable port keepalive.
- `port_security_enabled` (Boolean) Enable port security (MAC address filtering).
- `port_security_mac_address` (Set of String) Set of allowed MAC addresses when port security is enabled.
- `speed` (Number) Link speed in Mbps (10, 100, 1000, 2500, 5000, 10000). Only applicable when autoneg is disabled.
- `stormctrl_bcast_enabled` (Boolean) Enable broadcast storm control.
- `stormctrl_bcast_rate` (Number) Broadcast storm control rate limit.
- `stormctrl_mcast_enabled` (Boolean) Enable multicast storm control.
- `stormctrl_mcast_rate` (Number) Multicast storm control rate limit.
- `stormctrl_ucast_enabled` (Boolean) Enable unicast storm control.
- `stormctrl_ucast_rate` (Number) Unicast storm control rate limit.
- `stp_port_mode` (Boolean) Enable STP (Spanning Tree Protocol) on this port.
- `tagged_vlan_mgmt` (String) Tagged VLAN management mode. Valid values: 'auto' (allow all VLANs), 'block_all' (block all tagged VLANs), 'custom' (allow all except excluded).
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))

### Read-Only

- `id` (String) The unique identifier of the port profile.
- `site_id` (String) The site ID where the port profile is created.

<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Read operations occur during any refresh or planning operation when refresh is enabled.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).

## Import

Port profiles can be imported using their ID:

```shell
terraform import unifi_port_profile.example 60a1b2c3d4e5f67890123456
```
