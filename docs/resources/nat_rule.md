---
page_title: "unifi_nat_rule Resource - unifi"
subcategory: ""
description: |-
  Manages a UniFi NAT rule.
---

# unifi_nat_rule (Resource)

Manages a UniFi NAT rule.

## Example Usage

```terraform
# Masquerade NAT for internal network
resource "unifi_nat_rule" "masquerade" {
  type           = "MASQUERADE"
  description    = "NAT for internal network"
  source_address = "192.168.1.0/24"
}

# DNAT for web server
resource "unifi_nat_rule" "web_server" {
  type            = "DNAT"
  description     = "Forward HTTP to web server"
  protocol        = "tcp"
  dest_port       = "80"
  translated_ip   = "192.168.1.100"
  translated_port = "8080"
}

# DNAT for HTTPS
resource "unifi_nat_rule" "https" {
  type            = "DNAT"
  description     = "Forward HTTPS to web server"
  protocol        = "tcp"
  dest_port       = "443"
  translated_ip   = "192.168.1.100"
  translated_port = "443"
}

# SNAT for specific source
resource "unifi_nat_rule" "snat_vpn" {
  type           = "SNAT"
  description    = "SNAT for VPN traffic"
  source_address = "10.10.0.0/16"
  translated_ip  = "192.168.1.1"
}

# NAT rule with logging
resource "unifi_nat_rule" "logged" {
  type        = "MASQUERADE"
  description = "NAT with logging enabled"
  logging     = true
}

# Disabled NAT rule
resource "unifi_nat_rule" "disabled" {
  type        = "DNAT"
  description = "Disabled NAT rule"
  enabled     = false
  dest_port   = "22"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `type` (String) The NAT rule type. Valid values: MASQUERADE, DNAT, SNAT.

### Optional

- `description` (String) A description for the NAT rule.
- `dest_address` (String) The destination IP address or CIDR block.
- `dest_port` (String) The destination port or port range.
- `enabled` (Boolean) Whether the NAT rule is enabled. Defaults to true.
- `logging` (Boolean) Whether to log traffic matching this rule. Defaults to false.
- `protocol` (String) The protocol for the NAT rule. Valid values: all, tcp, udp, tcp_udp. Defaults to all.
- `source_address` (String) The source IP address or CIDR block.
- `source_port` (String) The source port or port range (e.g., '80' or '8000-9000').
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))
- `translated_ip` (String) The IP address to translate to (for DNAT/SNAT).
- `translated_port` (String) The port to translate to (for DNAT/SNAT).

### Read-Only

- `id` (String) The unique identifier of the NAT rule.

<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Read operations occur during any refresh or planning operation when refresh is enabled.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).

## Import

NAT rules can be imported using their ID:

```shell
terraform import unifi_nat_rule.example 60a1b2c3d4e5f67890123456
```
