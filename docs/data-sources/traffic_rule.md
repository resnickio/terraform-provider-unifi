---
page_title: "unifi_traffic_rule Data Source - unifi"
subcategory: ""
description: |-
  Retrieves information about an existing UniFi traffic rule (QoS/blocking). Lookup by either id or name.
---

# unifi_traffic_rule (Data Source)

Retrieves information about an existing UniFi traffic rule (QoS/blocking). Lookup by either id or name.

~> **Note:** This data source uses the v2 API and requires a UDM device.

## Example Usage

### Lookup by Name

```hcl
data "unifi_traffic_rule" "block_social" {
  name = "Block Social Media"
}

output "rule_action" {
  value = data.unifi_traffic_rule.block_social.action
}
```

### Lookup by ID

```hcl
data "unifi_traffic_rule" "by_id" {
  id = "60a1b2c3d4e5f67890123456"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `id` (String) The unique identifier of the traffic rule. Specify either id or name.
- `name` (String) The name of the traffic rule. Specify either id or name.

### Read-Only

- `action` (String) The action for the rule (BLOCK, ALLOW).
- `app_category_ids` (Set of String) Set of application category IDs for app-based filtering.
- `app_ids` (Set of Number) Set of application IDs for app-based filtering.
- `bandwidth_limit` (Attributes) Bandwidth limit configuration. (see [below for nested schema](#nestedatt--bandwidth_limit))
- `description` (String) A description for the traffic rule.
- `domains` (Attributes List) List of domains for domain-based filtering. (see [below for nested schema](#nestedatt--domains))
- `enabled` (Boolean) Whether the traffic rule is enabled.
- `ip_addresses` (Set of String) Set of IP addresses or CIDR blocks for IP-based filtering.
- `ip_ranges` (Set of String) Set of IP ranges for IP-based filtering.
- `matching_target` (String) The matching target type (INTERNET, IP, DOMAIN, REGION, APP).
- `network_id` (String) The network ID to apply the rule to.
- `regions` (Set of String) Set of geographic regions for region-based filtering.
- `schedule` (Attributes) Schedule for when the rule is active. (see [below for nested schema](#nestedatt--schedule))
- `target_devices` (Attributes List) List of target devices for the rule. (see [below for nested schema](#nestedatt--target_devices))

<a id="nestedatt--bandwidth_limit"></a>
### Nested Schema for `bandwidth_limit`

Read-Only:

- `download_limit_kbps` (Number) Download speed limit in Kbps.
- `enabled` (Boolean) Whether bandwidth limiting is enabled.
- `upload_limit_kbps` (Number) Upload speed limit in Kbps.


<a id="nestedatt--domains"></a>
### Nested Schema for `domains`

Read-Only:

- `description` (String) A description for the domain entry.
- `domain` (String) The domain name or pattern.
- `ports` (Set of Number) Set of ports associated with the domain.


<a id="nestedatt--schedule"></a>
### Nested Schema for `schedule`

Read-Only:

- `days_of_week` (Set of String) Days of week when the rule is active.
- `mode` (String) Schedule mode (ALWAYS, CUSTOM).
- `time_range_end` (String) End time in HH:MM format.
- `time_range_start` (String) Start time in HH:MM format.


<a id="nestedatt--target_devices"></a>
### Nested Schema for `target_devices`

Read-Only:

- `client_mac` (String) The MAC address of the client device.
- `network_id` (String) The network ID for network-based targeting.
- `type` (String) The target type (ALL_CLIENTS, CLIENT, NETWORK).
